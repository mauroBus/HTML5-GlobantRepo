<!DOCTYPE html>
<!-- html manifest="cache.manifest" -->
<html>
    <head>
        <title>HTML5 - Stage 9 -</title>
        
        <meta name="viewport" content="width=620" />
        
        <link rel="stylesheet" type="text/css" href="css/default.css" />
        
        <!-- Scripts: -->
        <script type="text/javascript" src="scripts/libs/jquery/jquery.js" ></script>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
        
        <!-- Modernizr and Yepnope -->
        <script type="text/javascript" src="scripts/libs/yepnope.js"></script>
		  <script src="scripts/libs/modernizr.js"></script>
        <script type="text/javascript" >
            
            
            /*
             * Adding for FileReader test support to Modernizr
             */
            Modernizr.addTest('filereader',function(){
               return typeof window.FileReader === "function" ? true : false;
            });
             
            
            /*
             * Loading needed files
             */ 
             //Modernizr.load({ test: Modernizr.geolocation, yep : 'geo.js' });
             
            yepnope( [ {  
      	      test: Modernizr.geolocation,
               nope: 'polyfill/geolocation-polifyll.js',
               callback: function(url, result, key) {  
                  alert('Not native support for geolocation, so loading polyfill: ' + url);
               }
            },
            {
               test: Modernizr.filereader,
               nope: 'polyfill/filereader-polifyll.js',
               callback: function(url, result, key) {  
                  alert('Not native support for FileReader, so loading polyfill: ' + url);
               }
            },
            {
               test: Modernizr.webworkers,
               nope: 'polyfill/fakeworker-0.1.js',
               callback: function(url, result, key) {  
                  alert('Not native support for FileReader, so loading polyfill: ' + url);
               }
            },
            {
               test: Modernizr.websockets,
               nope: 'polyfill/websocket-polifyll-2.js',
               callback: function(url, result, key) {  
                   alert('Not native support for WebSockets, so loading polyfill: ' + url);
                   //WEB_SOCKET_SWF_LOCATION = "WebSocketMain.swf";
               }
            },
            {
               test: Modernizr.mq('only all'),
               nope: 'scripts/detachBody.js',
               callback: function(url, result, key) {  
                  alert('Not native support for Media Queries, so loading polyfill: ' + url);
               }
            }
            ]);
        </script>
        
        
        
        <script id="mainScript" data-main="scripts/main" src="scripts/libs/require.js"></script>
        
    </head>
    
    <body>
    	<section id="page">
            
            <header>
                <hgroup>
                    <h1>Javascript Code: </h1>
                </hgroup>
            </header>
            
            <div id="codeDiv"></div>
            <div id="optionsDiv"> 
                <input type="checkbox" id="persistCheck"> Persist Code <br/>
            </div>
            <div id="toChange">This is a "div" element with id = "toChange"</div>
            
            <div id="dropZone" class="box">
                    <h2>Drop files here from your desktop</h2>
                    <span>( try multiple files )</span>
            </div>
            
            <br/>
            <br/>
            <br/>
            <br/>
            <div class="map">
                <input type="button" id="geoButton" value="get Geolocation">
                
                <div id="geoPosition"></div>
            </div>
            
            <div id="workerMessage">
                <p id="message"></p>
            </div>
            
            <div id="webSocket"> 
                <p>Web Socket:</p>
                <p id="wsMessage"></p>
            </div>
        </section> <!-- Closing the #page section -->
      
    </body>
</html>

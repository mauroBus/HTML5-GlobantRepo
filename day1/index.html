<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>HTML-Bootcamps-Exerc</title>
    
	<script type="text/javascript" src="/jquery/jquery-1.7.1.js"></script>
	<script type="text/javascript" language="javascript">
 		
	 	function postFunc(name){
			var url = "api/dispatcher.php";
			$.post(url, {service: 'welcome.hello', params: {"name": String(name)}}, 
							function(data){
					 			$("#stage").html(data);
             			} 
             	);
         
         // Detectar y tratar Error:
         // (si por ej. la url no existe...)
         $("#stage").ajaxError( 
         		function(event, request, settings ){
         				$(this).html("<h1>Error in loading page.</h1>");
          				$('#stage').css({ 'fontSize' : '10px', 'color' : 'red' });
     				});  
	 }
	
  	</script>
  
  </head>

  <body>

	<form name="formPost" >
		<input type="button" value="BotonPost" onclick="postFunc(document.formPost.alias.value);">
		<input type="text" name="alias" value="">
	</form>
	<br/><br/>
   
	<script src="./jquery/jquery-1.7.1.js"></script>
	<script>
		$(document).ready( function(){ alert("The Page is already loaded (1.3)!"); });
		 document.form1.alias.select();
		 document.form1.alias.focus();
	</script>
	

	<div id="stage" >
          RESULTADO obtenido del post... 
   </div>	
	
	
	</body>
	
</html>
